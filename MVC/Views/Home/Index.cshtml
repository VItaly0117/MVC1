﻿@model HomeIndexPageModel
@{
    ViewData["Title"] = "Home Page";
}

<div class="row mb-4">
    <div class="col-md-8">
        <h2>Categories</h2>
        <div class="row row-cols-3 row-cols-md-6 g-4">
            @foreach (var category in Model.Categories)
            {
                <partial name="_CategoryLinkItem" model="category" />
            }
        </div>
    </div>
    <div class="col-md-4 align-self-center">
        <partial name="_SearchForm" model="Model.SearchForm" />
    </div>
</div>


<hr />

<h3>
    @if (Model.SearchForm.CategoryId.HasValue)
    {
        <span>@Model.Categories.FirstOrDefault(c => c.Id == Model.SearchForm.CategoryId)?.Name</span>
    }
    else
    {
        <span>All Products</span>
    }
</h3>

<div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4">
    @foreach (var product in Model.Products)
    {
        <div class="col">
            <partial name="_ProductCard" model="product" />
        </div>
    }
</div>